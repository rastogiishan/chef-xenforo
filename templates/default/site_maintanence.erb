NameVirtualHost 0.0.0.0:80
<VirtualHost 0.0.0.0:80>
     ServerName <%= @server_name  %>
     ServerAlias <%= @server_aliases %>
     DocumentRoot <%= @htdocs %>
     PHPINIDir <%= @phpinidir %>
     ServerSignature off
     <Directory <%= @htdocs %>>
       AllowOverride All
       Options -Indexes -FollowSymLinks
     </Directory>
     CustomLog <%= @custom_log %>
     ErrorLog <%= @error_log %>
</VirtualHost>
<% if @ssl_enable %>
NameVirtualHost 0.0.0.0:443
<VirtualHost 0.0.0.0:443>
     ServerName <%= @server_name  %>
     ServerAlias <%= @server_aliases %>
     DocumentRoot <%= @htdocs %>
     PHPINIDir <%= @phpinidir %>
     SSLEngine On
     SSLCertificateFile <%= @ssl_public %>
     SSLCertificateKeyFile <%= @ssl_private %>
     SSLCACertificateFile <%= @ca_cert %>
     SSLHonorCipherOrder on
     SSLProtocol <%= @ssl_protocol %>
     SSLCipherSuite <%= @ssl_ciphersuite %>
     SSLCompression off
     ServerSignature off
     <Directory <%= @htdocs %>>
       AllowOverride All
       Options -Indexes -FollowSymLinks
     </Directory>
     CustomLog <%= @custom_log %>
     ErrorLog <%= @error_log %>
</VirtualHost>
<% end %>